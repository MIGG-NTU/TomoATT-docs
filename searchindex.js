Search.setIndex({"docnames": ["examples/index", "install/Use_on_HPCs", "install/Use_on_local_computers", "install/index", "tutorial/index"], "filenames": ["examples/index.md", "install/Use_on_HPCs.md", "install/Use_on_local_computers.md", "install/index.md", "tutorial/index.md"], "titles": ["Examples", "use on HPCs", "Use on local computers", "Installation", "Tutorial"], "terms": {"In": [0, 4], "tomoatt": [0, 3, 4], "directori": [0, 1, 2, 4], "you": [0, 1, 2, 4], "can": [0, 2, 3, 4], "find": 0, "small": [0, 4], "how": [0, 1, 2], "us": [0, 3, 4], "librari": [0, 3, 4], "inversion_smal": [0, 4], "thi": [0, 1, 2, 3, 4], "i": [0, 1, 2, 3], "simplest": 0, "which": [0, 1, 2, 3, 4], "run": [0, 3, 4], "invers": 0, "problem": 0, "inversion_small_ascii": [0, 4], "same": [0, 4], "ascii": [0, 3], "output": 0, "file": [0, 1, 2], "format": 0, "pleas": [0, 1, 4], "read": [0, 4], "readm": 0, "md": 0, "each": [0, 4], "more": 0, "inform": 0, "page": [1, 2], "show": [1, 2], "few": [1, 2], "we": [1, 2], "have": [1, 2], "been": [1, 2], "If": [1, 4], "ani": 1, "experi": 1, "other": [1, 4], "your": [1, 2], "contribut": 1, "highli": [1, 3], "appreci": 1, "so": [1, 4], "feel": 1, "free": 1, "contact": 1, "u": [1, 2], "purg": 1, "cmake": [1, 3], "gcc": 1, "9": [1, 4], "install_mpi_and_hdf5_loc": 1, "sh": 1, "creat": [1, 4], "execut": [1, 2], "external_lib": [1, 2], "local_mpi_hdf5": [1, 2], "bin": [1, 2], "make": [1, 2, 4], "build": [1, 2], "mkdir": [1, 2], "cd": [1, 2, 4], "cc": [1, 2], "usr": 1, "local": 1, "cxx": [1, 2], "g": 1, "dcmake_prefix_path": [1, 2], "pwd": [1, 2], "j16": [1, 2], "Then": [1, 2], "pjsub": 1, "hp": 1, "project_id": 1, "l": 1, "node": [1, 4], "rscgrp": 1, "int": 1, "elaps": 1, "00": [1, 4], "mpi": [1, 3, 4], "max": 1, "proc": 1, "per": 1, "12": 1, "sparam": 1, "wait": 1, "time": [1, 4], "600": 1, "x": 1, "pjm_llio_gfscach": 1, "vol0004": 1, "check": 1, "prepar": [1, 2], "spack": 1, "env": 1, "app": 1, "oss": 1, "share": [1, 2], "setup": [1, 4], "fujitsu": 1, "jfzaut5": 1, "11": 1, "nphnrhl": 1, "cvur4ou": 1, "everi": [1, 2], "place": [1, 2, 4], "instal": [1, 4], "pass": [1, 2], "wget": [1, 2], "http": [1, 2, 4], "gamma": 1, "hdfgroup": [1, 2], "org": [1, 2], "ftp": [1, 2], "pub": 1, "outgo": 1, "snapshot": 1, "v112": 1, "tar": [1, 2], "gz": [1, 2], "extract": [1, 2, 4], "xvf": [1, 2], "configur": [1, 2], "path": [1, 2, 4], "mpicc": [1, 2], "mpicxx": [1, 2], "should": [1, 2, 4], "vari": [1, 2], "mpifcc": 1, "cflag": 1, "nclang": 1, "cxxflag": 1, "enabl": [1, 2, 3], "unsupport": [1, 2], "prefix": [1, 2], "j12": 1, "now": [1, 2], "ar": [1, 2, 3, 4], "support": [1, 2, 3], "releas": [1, 2], "13": [1, 2], "src": [1, 2], "mpic": 1, "ctrl": 1, "d": 1, "explain": [2, 4], "There": [2, 4], "freedom": 2, "choos": 2, "wai": [2, 4], "provid": [2, 4], "two": [2, 4], "conveni": 2, "easier": 2, "faster": 2, "than": [2, 3, 4], "them": 2, "name": [2, 4], "channel": 2, "forg": 2, "activ": 2, "openmpi": 2, "mpi_openmpi": 2, "c": [2, 3], "It": [2, 4], "often": 2, "necessari": [2, 4], "exampl": [2, 3, 4], "where": [2, 4], "system": 2, "The": [2, 4], "termin": 2, "command": [2, 4], "below": [2, 4], "an": [2, 4], "test": 2, "ubuntu": 2, "22": 2, "04": 2, "mai": [2, 4], "differ": [2, 4], "oper": 2, "parallel": [2, 3], "linux": 2, "onli": [2, 4], "open": [2, 4], "v4": 2, "1": 2, "4": 2, "3": [2, 3], "without": 2, "cuda": 2, "extens": 2, "here": [2, 4], "some": 2, "workaround": 2, "git": [2, 4], "recurs": 2, "github": [2, 4], "com": [2, 4], "migg": [2, 4], "ntu": [2, 4], "j4": 2, "specif": 2, "specifi": [2, 4], "ad": 2, "follow": [2, 4], "option": [2, 4], "after": [2, 4], "gener": 2, "develop": 3, "work": 3, "effici": [3, 4], "comput": [3, 4], "For": [3, 4], "achiev": 3, "good": 3, "io": 3, "perform": 3, "hdf5": 3, "recomend": 3, "also": 3, "mode": 3, "all": [3, 4], "process": [3, 4], "independ": [3, 4], "case": [3, 4], "rather": 3, "collect": [3, 4], "caus": 3, "slowdown": 3, "version": [3, 4], "10": [3, 4], "higher": 3, "compil": 3, "17": 3, "7": 3, "0": [3, 4], "gnu": 3, "19": [3, 4], "intel": 3, "v3": 3, "need": [3, 4], "h5py": 3, "pre": 3, "post": [3, 4], "requir": 4, "simul": 4, "definit": 4, "observ": 4, "arriv": 4, "3d": 4, "recommend": 4, "": 4, "python": 4, "api": 4, "templat": 4, "project": 4, "avail": 4, "from": 4, "yet": 4, "pypi": 4, "clone": 4, "repositori": 4, "manual": 4, "branch": 4, "devel": 4, "pytomoatt": 4, "tree": 4, "pip": 4, "e": 4, "pta": 4, "init_pjt": 4, "project_dir": 4, "explan": 4, "describ": 4, "yaml": 4, "forward": 4, "min_max_dep": 4, "5740": 4, "6370": 4, "5790": 4, "depth": 4, "km": 4, "min_max_lat": 4, "45": 4, "55": 4, "latitud": 4, "degre": 4, "min_max_lon": 4, "35": 4, "longitud": 4, "n_rtp": 4, "40": 4, "number": 4, "src_rec_fil": 4, "src_rec_test": 4, "dat": 4, "init_model_path": 4, "test_model_init": 4, "h5": 4, "run_mod": 4, "n_sim": 4, "simultan": 4, "ndiv_rtp": 4, "subdomain": 4, "nproc_sub": 4, "subprocess": 4, "convergence_toler": 4, "1e": 4, "6": 4, "max_iter": 4, "100": 4, "stencil_ord": 4, "sweep_typ": 4, "legaci": 4, "cuthil": 4, "mckee": 4, "shm": 4, "field": 4, "ye": 4, "default": 4, "is_output_source_field": 4, "intern": 4, "out": 4, "is_verbose_output": 4, "model_parameters_inv_0000": 4, "is_output_model_dat": 4, "categori": 4, "sub": 4, "tag": 4, "miss": 4, "valu": 4, "set": 4, "global": 4, "dep1": 4, "dep2": 4, "minimum": 4, "maximum": 4, "kilo": 4, "meter": 4, "lat1": 4, "lat2": 4, "lon1": 4, "lon2": 4, "nr": 4, "nt": 4, "np": 4, "r": 4, "t": 4, "p": 4, "direct": 4, "about": 4, "detail": 4, "section": 4, "travel": 4, "new": 4, "output_fil": 4, "swap_src_rec": 4, "reduc": 4, "when": 4, "larger": 4, "usual": 4, "larg": 4, "dataset": 4, "do": 4, "earthquak": 4, "reloc": 4, "otherwis": 4, "program": 4, "exit": 4, "error": 4, "messag": 4, "n_inversion_grid": 4, "grid": 4, "n_inv_dep_lat_lon": 4, "min_max_dep_inv": 4, "min_max_lat_inv": 4, "min_max_lon_inv": 4, "current": 4, "defin": 4, "One": 4, "regular": 4, "even": 4, "interv": 4, "axi": 4, "type": 4, "anoth": 4, "user": 4, "flag": 4, "type_dep_inv": 4, "type_lat_inv": 4, "type_lon_inv": 4, "coordin": 4, "main": 4, "dep_inv": 4, "z1": 4, "z2": 4, "z3": 4, "lat_inv": 4, "y1": 4, "y2": 4, "y3": 4, "lon_inv": 4, "x1": 4, "x2": 4, "x3": 4, "param": 4, "seet": 4, "max_iterations_inv": 4, "limit": 4, "iter": 4, "step_siz": 4, "step": 4, "size": 4, "ratio": 4, "updat": 4, "simulutan": 4, "ndiv_r": 4, "ndiv_t": 4, "ndiv_p": 4, "decomposit": 4, "sweep": 4, "total": 4, "mpirun": 4, "n": 4, "must": 4, "code": 4, "stop": 4, "instantli": 4, "converg": 4, "criterion": 4, "adjoint": 4, "order": 4, "stencil": 4, "threefold": 4, "loop": 4, "output_file_format": 4, "select": 4, "posit": 4, "1992": 4, "43": 4, "56": 4, "900": 4, "8000": 4, "98": 4, "9000": 4, "137": 4, "80": 4, "8": 4, "305644": 4, "pcbi": 4, "8900": 4, "9253": 4, "1000": 4, "0000": 4, "18": 4, "000": 4, "mrpi": 4, "6125": 4, "99": 4, "3172": 4, "1100": 4, "400": 4, "huti": 4, "3153": 4, "9711": 4, "1600": 4, "200": 4, "line": 4, "id_src": 4, "year": 4, "month": 4, "dai": 4, "hour": 4, "min": 4, "sec": 4, "lat": 4, "lon": 4, "dep_km": 4, "magnitud": 4, "num_rec": 4, "id_ev": 4, "weight": 4, "id_rec": 4, "name_rec": 4, "elevation_m": 4, "phase": 4, "arrival_time_sec": 4, "last": 4, "column": 4, "both": 4, "put": 4, "object": 4, "function": 4, "These": 4, "written": 4, "station": 4, "event": 4, "teleseism": 4, "dedic": 4, "routin": 4, "teleseim": 4, "ignor": 4, "point": 4, "boundari": 4, "surfac": 4, "vel": 4, "veloc": 4, "eta": 4, "xi": 4, "zeta": 4, "save": 4, "one": 4, "singl": 4, "exactli": 4, "abov": 4, "dimens": 4, "refer": 4, "make_test_model": 4, "py": 4, "row": 4, "equival": 4, "write": 4, "rtp": 4, "ir": 4, "rang": 4, "ip": 4, "fun": 4, "fac_a": 4, "fac_b": 4, "fac_c": 4, "fac_f": 4, "complet": 4, "found": 4, "writen": 4, "_out": 4, "volumetr": 4, "result": 4, "data": 4, "As": 4, "slice": 4, "util": 4, "tomoatt_data_retriev": 4, "includ": 4, "concret": 4, "data_post_process": 4, "final": 4, "matrix": 4, "form": 4, "final_model": 4, "thu": 4, "carri": 4, "try": 4, "maxim": 4, "bandwidth": 4, "produc": 4, "like": 4, "out_data_grid": 4, "connect": 4, "out_data_sim": 4, "xmf": 4, "xdmf": 4, "index": 4, "visual": 4, "paraview": 4, "th": 4, "out_data_sim_i": 4, "out_data_sim_0": 4, "composit": 4, "indic": 4, "h5l": 4, "group": 4, "mesh": 4, "elem_conn": 4, "21609": 4, "node_coords_p": 4, "26010": 4, "node_coords_r": 4, "radiou": 4, "node_coords_t": 4, "latiud": 4, "node_coords_x": 4, "xyz": 4, "wgs84": 4, "node_coords_i": 4, "node_coords_z": 4, "procid": 4, "processor": 4, "id": 4, "eta_inv_000j": 4, "25000": 4, "j": 4, "xi_inv_000j": 4, "vel_inv_000j": 4, "50": 4, "possibl": 4, "next": 4, "initial_model_fil": 4, "sequenci": 4, "ouput_fil": 4, "out_grid_conn": 4, "out_grid_ptr": 4, "radiu": 4, "out_grid_xyz": 4}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"exampl": 0, "us": [1, 2], "hpc": [1, 2], "gekko": 1, "ntu": 1, "1": [1, 4], "load": 1, "necessari": 1, "modul": 1, "select": 1, "gnu": 1, "compil": [1, 2], "2": [1, 4], "openmpi": 1, "hdf5": [1, 2, 4], "parallel": [1, 4], "option": [1, 3], "3": [1, 4], "tomoatt": [1, 2], "fugaku": 1, "riken": 1, "0": 1, "start": 1, "interact": 1, "job": 1, "access": 1, "arch64": 1, "environ": [1, 2], "download": [1, 2], "sourc": [1, 2, 4], "code": [1, 2], "4": 1, "terminalt": 1, "local": 2, "comput": 2, "instal": [2, 3], "depend": [2, 3], "conda": 2, "creat": 2, "requir": 2, "librari": 2, "virtual": 2, "from": 2, "mpi": 2, "On": 2, "clone": 2, "cmake": 2, "tutori": 4, "input": 4, "file": 4, "paramet": 4, "domain": 4, "model": 4, "invers": 4, "calcul": 4, "output_set": 4, "receiv": 4, "initi": 4, "init": 4, "format": 4, "ascii": 4, "output": 4, "i": 4, "o": 4, "mode": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx.ext.intersphinx": 1, "sphinx": 57}, "alltitles": {"Examples": [[0, "examples"]], "use on HPCs": [[1, "use-on-hpcs"]], "Gekko @ NTU": [[1, "gekko-ntu"]], "1. Load necessary modules and select GNU compilers": [[1, "load-necessary-modules-and-select-gnu-compilers"]], "2. compiler openmpi and HDF5 with parallel option": [[1, "compiler-openmpi-and-hdf5-with-parallel-option"]], "3. Compile TomoATT": [[1, "compile-tomoatt"], [1, "id1"]], "Fugaku @ RIKEN": [[1, "fugaku-riken"]], "0. start interactive job on Fugaku (for accessing arch64 environment)": [[1, "start-interactive-job-on-fugaku-for-accessing-arch64-environment"]], "1. Load necessary modules": [[1, "load-necessary-modules"]], "2. Download hdf5 source code and compile it": [[1, "download-hdf5-source-code-and-compile-it"]], "4. terminalte interactive job": [[1, "terminalte-interactive-job"]], "Use on local computers": [[2, "use-on-local-computers"]], "Install dependencies": [[2, "install-dependencies"]], "Using Conda": [[2, "using-conda"]], "Create a conda environment": [[2, "create-a-conda-environment"]], "Install the required libraries in the created virtual environment": [[2, "install-the-required-libraries-in-the-created-virtual-environment"]], "Compile and instal the dependencies from source code": [[2, "compile-and-instal-the-dependencies-from-source-code"]], "Install MPI and HDF5": [[2, "install-mpi-and-hdf5"]], "On HPCs": [[2, "on-hpcs"]], "Download and compile TomoATT": [[2, "download-and-compile-tomoatt"]], "Clone the source codes": [[2, "clone-the-source-codes"]], "Compile source codes with cmake": [[2, "compile-source-codes-with-cmake"]], "Installation": [[3, "installation"]], "Dependencies": [[3, "dependencies"]], "Optional:": [[3, "optional"]], "Tutorial": [[4, "tutorial"]], "Input files": [[4, "input-files"]], "1. input parameter file": [[4, "input-parameter-file"]], "domain :": [[4, "domain"]], "source :": [[4, "source"]], "model :": [[4, "model"]], "inversion :": [[4, "inversion"]], "parallel :": [[4, "parallel"]], "calculation :": [[4, "calculation"]], "output_setting :": [[4, "output-setting"]], "2. source receiver file": [[4, "source-receiver-file"]], "3. initial model file": [[4, "initial-model-file"]], "inital model file in HDF5 format": [[4, "inital-model-file-in-hdf5-format"]], "initial model file in ASCII format": [[4, "initial-model-file-in-ascii-format"]], "Output files": [[4, "output-files"]], "HDF5 I/O mode": [[4, "hdf5-i-o-mode"]], "ASCII I/O mode": [[4, "ascii-i-o-mode"]]}, "indexentries": {}})